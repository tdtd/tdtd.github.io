(function b(c,d,e){function a(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof require&&require;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var f=d[h]={exports:{}};c[h][0].call(f.exports,function(b){var d=c[h][1][b];return a(d?d:b)},f,f.exports,b,c,d,e)}return d[h].exports}for(var g="function"==typeof require&&require,f=0;f<e.length;f++)a(e[f]);return a})({1:[function(a,b){(function(c){"use strict";var d=a("./modules/simpleSpy.js");c.SimpleSpy=b.exports=d}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"./modules/simpleSpy.js":2}],2:[function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a){for(var b=[],c=document.getElementsByTagName("*"),d=0,e=c.length;d<e;d++)null!==c[d].getAttribute(a)&&b.push(c[d]);return b}function e(a,b){for(var c,d=0,e=a.length;d<e;d++)if(c=b(a[d]),c)return{index:d,val:a[d]}}var f=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./throttle"),h=a("./util");var i=function(){function a(b){c(this,a),this.elements=[],this.links=[],this.onlyTop=b&&"onlyTop"in b?b.onlyTop:!0,this.activeClassName=b&&b.activeClassName?b.activeClassName:"active",this.triggerFunctions=b&&"triggerFunctions"in b?b.triggerFunctions:!0,this.linkArriveFunction=b.linkArriveFunction,this.elementArriveFunction=b.elementArriveFunction,this.linkDepartFunction=b.linkDepartFunction,this.elementDepartFunction=b.elementDepartFunction,this.lastTop,this.inboundsArray=[],window.addEventListener("tScroll",this.onScroll.bind(this)),this._init()}return f(a,[{key:"_init",value:function(){this.elements=[],this.links=[];for(var a=d("data-scroll-spy"),b=d("data-scroll-link"),c=0,e=b.length;c<e;c++)this.links.push(new j(b[c],this.linkArriveFunction,this.linkDepartFunction));for(var f=0,g=a.length;f<g;f++)for(var h=0,i=this.links.length;h<i;h++)a[f].dataset.scrollSpy===this.links[h].name&&this.elements.push(new k(a[f],this.links[h],this.elementArriveFunction,this.elementDepartFunction));this.elements=this.elements.sort(function(c,a){return c.top-a.top}),this.onScroll()}},{key:"onScroll",value:function(){var a=this.getTop();if(this.onlyTop){var b=e(this.elements,function(b){return b.bottom>a});b&&this.lastTop!==b.index&&("undefined"!=typeof this.lastTop&&this.removeClass(this.elements[this.lastTop],this.activeClassName),this.addClass(this.elements[b.index],this.activeClassName),this.lastTop=b.index)}else for(var c=this.getBottom(),d=0,f=this.elements.length;d<f;d++)this.elements[d].inbounds(a,c)?this.addToInboundsArray(this.elements[d].name,d):this.removeFromInboundsArray(this.elements[d].name,d)}},{key:"getTop",value:function(){var a=document.body,b=document.documentElement,c=window.pageYOffset||b.scrollTop||a.scrollTop,d=b.clientTop||a.clientTop||0;return Math.round(c-d)}},{key:"getBottom",value:function(){var a=this.getTop(),b=window.innerHeight;return a+b}},{key:"addToInboundsArray",value:function(a,b){var c=this.inboundsArray.indexOf(a);0>c&&(this.inboundsArray.push(a),this.addClass(this.elements[b],this.activeClassName))}},{key:"removeFromInboundsArray",value:function(a,b){var c=this.inboundsArray.indexOf(a);-1<c&&(this.inboundsArray.splice(c,1),this.removeClass(this.elements[b],this.activeClassName))}},{key:"addClass",value:function(a,b){a&&this.triggerFunctions&&a.arriveFunction(),a&&"linkElement"in a&&a.linkElement.addClass(b,this.triggerFunctions)}},{key:"removeClass",value:function(a,b){a&&this.triggerFunctions&&a.departFunction(),a&&"linkElement"in a&&a.linkElement.removeClass(b,this.triggerFunctions)}},{key:"setOnlyTop",value:function(a){return"toggle"===a?this.onlyTop=!this.onlyTop:this.onlyTop=a}},{key:"setLinkArriveFunction",value:function(a,b){for(var c=0,d=this.elements.length;c<d;c++)this.elements[c].name===a&&(this.elements[c].linkElement.arriveFunction=b)}},{key:"setLinkDepartFunction",value:function(a,b){for(var c=0,d=this.elements.length;c<d;c++)this.elements[c].name===a&&(this.elements[c].linkElement.departFunction=b)}},{key:"setElementArriveFunction",value:function(a,b){for(var c=0,d=this.elements.length;c<d;c++)this.elements[c].name===a&&(this.elements[c].departFunction=b)}},{key:"setElementDepartFunction",value:function(a,b){for(var c=0,d=this.elements.length;c<d;c++)this.elements[c].name===a&&(this.elements[c].departFunction=b)}}]),a}(),j=function(){function a(b,d,e){c(this,a),this.self=b,this.name=b.dataset.scrollLink,this.arriveFunction=d,this.departFunction=e,this._aFunc,this._dFunc}return f(a,[{key:"getCustom",value:function(){return this.self.dataset.scrollClass}},{key:"addClass",value:function(a,b){this.self=h.addClass(this.self,this.getCustom()||a),b&&this._aFunc&&this._aFunc()}},{key:"removeClass",value:function(a,b){this.self=h.removeClass(this.self,this.getCustom()||a),b&&this._dFunc&&this._dFunc()}},{key:"arriveFunction",set:function(a){"function"!=typeof a||(this._aFunc=a)},get:function(){return this._aFunc?this._aFunc:function(){}}},{key:"departFunction",set:function(a){"function"!=typeof a||(this._dFunc=a)},get:function(){return this._dFunc?this._dFunc:function(){}}}]),a}(),k=function(){function a(b,d,e,f){c(this,a),this.self=b,this.linkElement=d,this.name=b.dataset.scrollSpy,this.height=b.offsetHeight,this.top=b.offsetTop,this.bottom=this.top+this.height,this.arriveFunction=e,this.departFunction=f,this._aFunc,this._dFunc,window.addEventListener("tResize",this.resize.bind(this)),this.self.addEventListener("click",function(){this._aFunc}.bind(this))}return f(a,[{key:"resize",value:function(){this.height=this.self.offsetHeight,this.top=this.self.offsetTop,this.bottom=this.top+this.height}},{key:"inbounds",value:function(a,b){return this.bottom>a&&this.top<b}},{key:"arriveFunction",set:function(a){"function"!=typeof a||(this._aFunc=a)},get:function(){return this._aFunc?this._aFunc:function(){}}},{key:"departFunction",set:function(a){"function"!=typeof a||(this._dFunc=a)},get:function(){return this._dFunc?this._dFunc:function(){}}}]),a}();b.exports=i},{"./throttle":3,"./util":4}],3:[function(){"use strict";(function(){var a=function(a,b,c){c=c||window;var d=!1;c.addEventListener(a,function(){d||(d=!0,requestAnimationFrame(function(){c.dispatchEvent(new CustomEvent(b)),d=!1}))})};a("resize","tResize"),a("scroll","tScroll")})()},{}],4:[function(a,b){"use strict";b.exports={bind:function(a,b,c){a.addEventListener(b,c,!1)},addClass:function(a,b){var c=a.className.split(" ");return 0>c.indexOf(b)&&c.push(b),a.className=c.join(" "),a},removeClass:function(a,b){var c=a.className.split(" "),d=c.indexOf(b);return-1<d&&c.splice(d,1),a.className=c.join(" "),a}}},{}]},{},[1]);